function resize(){interface.target.iron_pos=interface.target.iron.getBoundingClientRect(),interface.target.carbon_pos=interface.target.carbon.getBoundingClientRect(),interface.target.silicon_pos=interface.target.silicon.getBoundingClientRect()}function click(e){if(!clicker.isOverShop){clicker.click_number++,clicker.click_number>=clicker.next_level&&(clicker.click_increment_value++,clicker.next_level*=2,addIndicParticle(e));var t=Math.random();if(t<=.33)var i="iron";else if(t>.33&&t<=.66)var i="carbon";else if(t>.66)var i="silicon";addparticles(e,i)}}function autoclickers(){time%auto_clicker.ore.iron.increment_time==0&&(ressources.ore.iron+=auto_clicker.ore.iron.increment_value,update_interface()),time%auto_clicker.ore.carbon.increment_time==0&&(ressources.ore.carbon+=auto_clicker.ore.carbon.increment_value,update_interface()),time%auto_clicker.ore.silicon.increment_time==0&&(ressources.ore.silicon+=auto_clicker.ore.silicon.increment_value,update_interface()),time%auto_clicker.power.increment_time==0&&ressources.power.value+auto_clicker.power.increment_value<=ressources.power.valuemax?(ressources.power.value+=auto_clicker.power.increment_value,updatePowerfill()):ressources.power.value+auto_clicker.power.increment_value>=ressources.power.valuemax&&(ressources.power.value=ressources.power.valuemax,updatePowerfill())}function addparticles(e,t){var i=click_particles.settings.index;click_particles.items[i]={},click_particles.items[i].x=e.pageX-15,click_particles.items[i].y=e.pageY-15,click_particles.items[i].type=t,"iron"==t?(click_particles.items[i].vx=(interface.target.iron_pos.left+interface.target.iron_pos.width/4-click_particles.items[i].x)/80,click_particles.items[i].vy=(interface.target.iron_pos.top+interface.target.iron_pos.height/4+130-click_particles.items[i].y)/80):"carbon"==t?(click_particles.items[i].vx=(interface.target.carbon_pos.left+interface.target.carbon_pos.width/4-click_particles.items[i].x)/80,click_particles.items[i].vy=(interface.target.carbon_pos.top+interface.target.carbon_pos.height/4+130-click_particles.items[i].y)/80):"silicon"==t&&(click_particles.items[i].vx=(interface.target.silicon_pos.left+interface.target.silicon_pos.width/4-click_particles.items[i].x)/80,click_particles.items[i].vy=(interface.target.silicon_pos.top+interface.target.silicon_pos.height/4+130-click_particles.items[i].y)/80),click_particles.items[i].gy=15,click_particles.settings.index++,updateParticles()}function updateParticles(){for(var e=0;e<click_particles.items.length;e++)click_particles.items[e].x+=click_particles.items[e].vx,click_particles.items[e].y+=click_particles.items[e].vy-click_particles.items[e].gy,click_particles.items[e].vx*=1.02,click_particles.items[e].vy*=1.02,click_particles.items[e].gy-=1,click_particles.items[e].gy<0&&(click_particles.items[e].gy=0),click_particles.items[e].gx-=1,click_particles.items[e].gx<0&&(click_particles.items[e].gx=0),"iron"==click_particles.items[e].type&&click_particles.items[e].x>interface.target.iron_pos.left&&click_particles.items[e].x<interface.target.iron_pos.left+interface.target.iron_pos.width&&click_particles.items[e].y>interface.target.iron_pos.top&&click_particles.items[e].y<interface.target.iron_pos.top+interface.target.iron_pos.height?(txtParticleAdd(click_particles.items[e].type),click_particles.items.splice(e,1),click_particles.settings.index--,ressources.ore.iron+=clicker.click_increment_value,update_interface()):"carbon"==click_particles.items[e].type&&click_particles.items[e].x>interface.target.carbon_pos.left&&click_particles.items[e].x<interface.target.carbon_pos.left+interface.target.carbon_pos.width&&click_particles.items[e].y>interface.target.carbon_pos.top&&click_particles.items[e].y<interface.target.carbon_pos.top+interface.target.carbon_pos.height?(txtParticleAdd(click_particles.items[e].type),click_particles.items.splice(e,1),click_particles.settings.index--,ressources.ore.carbon+=clicker.click_increment_value,update_interface()):"silicon"==click_particles.items[e].type&&click_particles.items[e].x>interface.target.silicon_pos.left&&click_particles.items[e].x<interface.target.silicon_pos.left+interface.target.silicon_pos.width&&click_particles.items[e].y>interface.target.silicon_pos.top&&click_particles.items[e].y<interface.target.silicon_pos.top+interface.target.silicon_pos.height?(txtParticleAdd(click_particles.items[e].type),click_particles.items.splice(e,1),click_particles.settings.index--,ressources.ore.silicon+=clicker.click_increment_value,update_interface()):drawParticles(e)}function drawParticles(e){var t=document.createElement("img");t.style.height="30px",t.style.width="30px",t.style.position="absolute",t.style.transform="translate("+click_particles.items[e].x+"px, "+click_particles.items[e].y+"px)",t.src="assets/img/ore-"+click_particles.items[e].type+".svg",document.querySelector(".particles-container .ressources").appendChild(t)}function txtParticleAdd(e){var t=txt_particles.settings.index;txt_particles.items[t]={},"iron"==e?(txt_particles.items[t].x=interface.target.iron_pos.left-20,txt_particles.items[t].y=interface.target.iron_pos.top+interface.target.iron_pos.height/2):"carbon"==e?(txt_particles.items[t].x=interface.target.carbon_pos.left-20,txt_particles.items[t].y=interface.target.carbon_pos.top+interface.target.carbon_pos.height/2):"silicon"==e&&(txt_particles.items[t].x=interface.target.silicon_pos.left-20,txt_particles.items[t].y=interface.target.silicon_pos.top+interface.target.silicon_pos.height/2),txt_particles.items[t].vx=-1,txt_particles.items[t].vy=-1,txt_particles.items[t].opacity=1,txt_particles.settings.index++}function txtParticleUpdate(){for(var e=0;e<txt_particles.items.length;e++)txt_particles.items[e].x+=txt_particles.items[e].vx,txt_particles.items[e].y+=txt_particles.items[e].vy,txt_particles.items[e].vx*=.9,txt_particles.items[e].vy*=1.1,txt_particles.items[e].opacity-=.03,txt_particles.items[e].opacity<0?(txt_particles.items.splice(e,1),txt_particles.settings.index--):txtParticlesDraw(e)}function txtParticlesDraw(e){var t=document.createElement("p");t.style.transform="translate("+txt_particles.items[e].x+"px,"+txt_particles.items[e].y+"px)",t.style.width="10px",t.style.height="0",t.style.opacity=txt_particles.items[e].opacity,t.innerHTML="+"+clicker.click_increment_value,document.querySelector(".particles-container .indication").appendChild(t)}function addIndicParticle(e){var t=indic_particles.settings.index;indic_particles.items[t]={},indic_particles.items[t].x=e.pageX,indic_particles.items[t].y=e.pageY-70,indic_particles.items[t].vy=-4,indic_particles.items[t].opacity=1,indic_particles.settings.index++}function indicParticleUpdate(){for(var e=0;e<indic_particles.items.length;e++)indic_particles.items[e].y+=indic_particles.items[e].vy,indic_particles.items[e].opacity-=.02,indic_particles.items[e].opacity<0?(indic_particles.items.splice(e,1),indic_particles.settings.index--):indicDraw(e)}function indicDraw(e){var t=document.createElement("p");t.style.transform="translate("+(indic_particles.items[e].x-30)+"px,"+indic_particles.items[e].y+"px)",t.style.opacity=indic_particles.items[e].opacity,t.innerHTML="x"+clicker.click_increment_value,document.querySelector(".particles-container .multiplier").appendChild(t)}function render(){document.querySelector(".particles-container .ressources").innerHTML="",document.querySelector(".particles-container .indication").innerHTML="",document.querySelector(".particles-container .multiplier").innerHTML="",updateParticles(),txtParticleUpdate(),indicParticleUpdate(),window.requestAnimationFrame(render)}function buy(e){shop.items[e].price[0]<ressources.ore.iron&&shop.items[e].price[1]<ressources.ore.carbon&&shop.items[e].price[2]<ressources.ore.silicon&&(ressources.ore.iron-=shop.items[e].price[0],ressources.ore.carbon-=shop.items[e].price[1],ressources.ore.silicon-=shop.items[e].price[2],shop.items[e].price[0]*=2,shop.items[e].price[1]*=2,shop.items[e].price[2]*=2,shop.items[e].level++,0==e&&(auto_clicker.power.increment_value=20*shop.items[0].level),update_shop(),update_interface())}function update_interface(){interface.iron.innerHTML=ressources.ore.iron,interface.carbon.innerHTML=ressources.ore.carbon,interface.silicon.innerHTML=ressources.ore.silicon}function update_shop(e,t){for(var i=0;i<interface.shop.items.length;i++){var c={};c.iron=interface.shop.items[i].querySelector(".menu--item--resources--fer--price"),c.silicon=interface.shop.items[i].querySelector(".menu--item--resources--silicium--price"),c.carbon=interface.shop.items[i].querySelector(".menu--item--resources--carbon--price"),c.level=interface.shop.items[i].querySelector(".menu--item--title--lvl"),c.iron.innerHTML=shop.items[i].price[0],c.silicon.innerHTML=shop.items[i].price[1],c.carbon.innerHTML=shop.items[i].price[2],c.level.innerHTML="lv."+shop.items[i].level}}function updatePowerfill(){var e=ressources.power.value/ressources.power.valuemax;interface.power_full.style.transform="scaleY("+e+")",interface.power_indic.innerHTML=ressources.power.value+"/"+ressources.power.valuemax}var interface={};interface.iron=document.querySelector("#info-iron"),interface.carbon=document.querySelector("#info-carbon"),interface.silicon=document.querySelector("#info-silicon"),interface.power_full=document.querySelector(".energy--bar--full"),interface.power_indic=document.querySelector(".energy--value"),interface.target={},interface.target.iron=document.querySelector("#target-iron"),interface.target.iron_pos=interface.target.iron.getBoundingClientRect(),interface.target.carbon=document.querySelector("#target-carbon"),interface.target.carbon_pos=interface.target.carbon.getBoundingClientRect(),interface.target.silicon=document.querySelector("#target-silicon"),interface.target.silicon_pos=interface.target.silicon.getBoundingClientRect(),interface.distance=document.querySelector(".distance--title--value"),interface.shop={},interface.shop.container=document.querySelector(".menu"),interface.shop.items=document.querySelectorAll(".menu--item"),interface.popup=document.querySelector(".popup--item");var time=0,ressources={};ressources.power={},ressources.power.value=0,ressources.power.valuemax=1e3,ressources.power.ratio=0,ressources.ore={},ressources.ore.iron=0,ressources.ore.carbon=0,ressources.ore.silicon=0;var auto_clicker={};auto_clicker.power={},auto_clicker.power.increment_value=0,auto_clicker.power.increment_time=1,auto_clicker.ore={},auto_clicker.ore.iron={},auto_clicker.ore.iron.increment_time=1,auto_clicker.ore.iron.increment_value=0,auto_clicker.ore.carbon={},auto_clicker.ore.carbon.increment_time=1,auto_clicker.ore.carbon.increment_value=0,auto_clicker.ore.silicon={},auto_clicker.ore.silicon.increment_time=1,auto_clicker.ore.silicon.increment_value=0;var clicker={};clicker.click_number=0,clicker.click_increment_value=1,clicker.next_level=20,clicker.isOverShop=!1,interface.shop.container.addEventListener("mouseenter",function(){clicker.isOverShop=!0}),interface.shop.container.addEventListener("mouseleave",function(){clicker.isOverShop=!1}),window.addEventListener("resize",function(){resize()}),window.addEventListener("click",function(e){click(e)}),setInterval(function(){time++,autoclickers()},1e3);var click_particles={};click_particles.items=[],click_particles.settings={},click_particles.settings.index=0,click_particles.settings.state=!1;var txt_particles={};txt_particles.items=[],txt_particles.settings={},txt_particles.settings.index=0,txt_particles.settings.state=!1;var indic_particles={};indic_particles.items=[],indic_particles.settings={},indic_particles.settings.index=0,render();var shop={};shop.items=[],shop.items[0]={},shop.items[0].price=[50,50,50],shop.items[0].level=1,shop.items[1]={},shop.items[1].price=[50,50,50],shop.items[1].level=1,shop.items[2]={},shop.items[2].price=[50,50,50],shop.items[2].level=1,shop.items[3]={},shop.items[3].price=[50,50,50],shop.items[3].level=1,shop.items[4]={},shop.items[4].price=[50,50,50],shop.items[4].level=1,shop.items[5]={},shop.items[5].price=[50,50,50],shop.items[5].level=1,shop.items[6]={},shop.items[6].price=[50,50,50],shop.items[6].level=1;for(var i=0;i<interface.shop.items.length;i++)interface.shop.items[i].addEventListener("click",function(e){e.preventDefault();var t=this.dataset.item;buy(t)});update_shop(),update_interface();for(var popup_content=["Permet de recharger les réserves d’énergie du vaisseau","Accroie la vitesse du vaisseau","Accroie considérablement la vitesse du vaisseau","Accroie la capacité de stockage d’énergie du vaiseau","Diminue la consomation de carburant du vaisseau","Recharge les accumulateur du vaisseau durant le vol","Permet de recupérer des ressources durant le vol"],i=0;i<interface.shop.items.length;i++)interface.shop.items[i].addEventListener("mouseenter",function(e){interface.popup.style.display="block",interface.popup.style.transform="translateY("+(e.pageY-30)+"px)";var t=this.dataset.item;interface.popup.innerHTML=popup_content[t]}),interface.shop.items[i].addEventListener("mousemove",function(e){interface.popup.style.transform="translateY("+(e.pageY-30)+"px)"}),interface.shop.items[i].addEventListener("mouseleave",function(e){interface.popup.style.display="none"});updatePowerfill();var animation={};animation.stars=document.querySelector(".stars"),animation.sky=document.querySelector(".sky"),animation.rocket=document.querySelector(".rocket"),animation.rocket_flame=document.querySelector(".rocket--flame"),animation.mountain=document.querySelector(".mountain"),animation.menu=document.querySelector(".menu"),document.addEventListener("keydown",function(e){32==e.keyCode&&ressources.power.value==ressources.power.valuemax&&(e.preventDefault,animation.stars.classList.add("stars--anim"),animation.sky.classList.add("sky--anim"),animation.rocket.classList.add("rocket--anim"),animation.mountain.classList.add("mountain--anim"),animation.menu.classList.add("menu--anim"),setTimeout(function(){animation.rocket_flame.classList.add("rocket--flame--anim")},1e3));var t=0;setInterval(function(){t++,interface.distance.innerHTML=t},1e3)});