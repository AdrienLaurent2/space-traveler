function buy(e){shop.items[e].level<shop.items[e].maxlevel&&shop.items[e].price[0]<ressources.ore.iron&&shop.items[e].price[1]<ressources.ore.carbon&&shop.items[e].price[2]<ressources.ore.silicon&&(shop.items[e].price[0]*=2,shop.items[e].price[1]*=2,shop.items[e].price[2]*=2,shop.items[e].level++)}function resize(){interface.target.iron_pos=interface.target.iron.getBoundingClientRect(),interface.target.carbon_pos=interface.target.carbon.getBoundingClientRect(),interface.target.silicon_pos=interface.target.silicon.getBoundingClientRect()}function click(e){clicker.click_number++,clicker.click_number>=clicker.next_level&&(clicker.click_increment_value++,clicker.next_level*=2);var t=Math.random();if(t<=.33)var i="iron";else if(t>.33&&t<=.66)var i="carbon";else if(t>.66)var i="silicon";addparticles(e,i)}function update_interface(){interface.iron.innerHTML=ressources.ore.iron,interface.carbon.innerHTML=ressources.ore.carbon,interface.silicon.innerHTML=ressources.ore.silicon}function autoclickers(){time%auto_clicker.ore.iron.increment_time==0&&(ressources.ore.iron+=auto_clicker.ore.iron.increment_value,update_interface()),time%auto_clicker.ore.carbon.increment_time==0&&(ressources.ore.carbon+=auto_clicker.ore.carbon.increment_value,update_interface()),time%auto_clicker.ore.silicon.increment_time==0&&(ressources.ore.silicon+=auto_clicker.ore.silicon.increment_value,update_interface())}function addparticles(e,t){var i=click_particles.settings.index;click_particles.items[i]={},click_particles.items[i].x=e.pageX-15,click_particles.items[i].y=e.pageY-15,click_particles.items[i].type=t,"iron"==t?(click_particles.items[i].vx=(interface.target.iron_pos.left+interface.target.iron_pos.width/4-click_particles.items[i].x)/80,click_particles.items[i].vy=(interface.target.iron_pos.top+interface.target.iron_pos.height/4+130-click_particles.items[i].y)/80):"carbon"==t?(click_particles.items[i].vx=(interface.target.carbon_pos.left+interface.target.carbon_pos.width/4-click_particles.items[i].x)/80,click_particles.items[i].vy=(interface.target.carbon_pos.top+interface.target.carbon_pos.height/4+130-click_particles.items[i].y)/80):"silicon"==t&&(click_particles.items[i].vx=(interface.target.silicon_pos.left+interface.target.silicon_pos.width/4-click_particles.items[i].x)/80,click_particles.items[i].vy=(interface.target.silicon_pos.top+interface.target.silicon_pos.height/4+130-click_particles.items[i].y)/80),click_particles.items[i].gy=15,click_particles.settings.index++,updateParticles()}function updateParticles(){for(var e=0;e<click_particles.items.length;e++)click_particles.items[e].x+=click_particles.items[e].vx,click_particles.items[e].y+=click_particles.items[e].vy-click_particles.items[e].gy,click_particles.items[e].vx*=1.02,click_particles.items[e].vy*=1.02,click_particles.items[e].gy-=1,click_particles.items[e].gy<0&&(click_particles.items[e].gy=0),click_particles.items[e].gx-=1,click_particles.items[e].gx<0&&(click_particles.items[e].gx=0),"iron"==click_particles.items[e].type&&click_particles.items[e].x>interface.target.iron_pos.left&&click_particles.items[e].x<interface.target.iron_pos.left+interface.target.iron_pos.width&&click_particles.items[e].y>interface.target.iron_pos.top&&click_particles.items[e].y<interface.target.iron_pos.top+interface.target.iron_pos.height?(txtParticleAdd(click_particles.items[e].type),click_particles.items.splice(e,1),click_particles.settings.index--,ressources.ore.iron+=clicker.click_increment_value,update_interface()):"carbon"==click_particles.items[e].type&&click_particles.items[e].x>interface.target.carbon_pos.left&&click_particles.items[e].x<interface.target.carbon_pos.left+interface.target.carbon_pos.width&&click_particles.items[e].y>interface.target.carbon_pos.top&&click_particles.items[e].y<interface.target.carbon_pos.top+interface.target.carbon_pos.height?(txtParticleAdd(click_particles.items[e].type),click_particles.items.splice(e,1),click_particles.settings.index--,ressources.ore.carbon+=clicker.click_increment_value,update_interface()):"silicon"==click_particles.items[e].type&&click_particles.items[e].x>interface.target.silicon_pos.left&&click_particles.items[e].x<interface.target.silicon_pos.left+interface.target.silicon_pos.width&&click_particles.items[e].y>interface.target.silicon_pos.top&&click_particles.items[e].y<interface.target.silicon_pos.top+interface.target.silicon_pos.height?(txtParticleAdd(click_particles.items[e].type),click_particles.items.splice(e,1),click_particles.settings.index--,ressources.ore.silicon+=clicker.click_increment_value,update_interface()):drawParticles(e)}function drawParticles(e){var t=document.createElement("img");t.style.height="30px",t.style.width="30px",t.style.position="absolute",t.style.transform="translate("+click_particles.items[e].x+"px, "+click_particles.items[e].y+"px)",t.src="assets/img/ore-"+click_particles.items[e].type+".svg",document.querySelector(".particles-container .ressources").appendChild(t)}function txtParticleAdd(e){var t=txtParticles.settings.index;txtParticles.items[t]={},"iron"==e?(txtParticles.items[t].x=interface.target.iron_pos.left-20,txtParticles.items[t].y=interface.target.iron_pos.top+interface.target.iron_pos.width/2):"carbon"==e?(txtParticles.items[t].x=interface.target.carbon_pos.left-20,txtParticles.items[t].y=interface.target.carbon_pos.top+interface.target.carbon_pos.width/2):"silicon"==e&&(txtParticles.items[t].x=interface.target.silicon_pos.left-20,txtParticles.items[t].y=interface.target.silicon_pos.top+interface.target.silicon_pos.width/2),txtParticles.items[t].vx=-1,txtParticles.items[t].vy=-1,txtParticles.items[t].opacity=1,txtParticles.settings.index++}function txtParticleUpdate(){for(var e=0;e<txtParticles.items.length;e++)txtParticles.items[e].x+=txtParticles.items[e].vx,txtParticles.items[e].y+=txtParticles.items[e].vy,txtParticles.items[e].vx*=.9,txtParticles.items[e].vy*=1.1,txtParticles.items[e].opacity-=.025,txtParticles.items[e].opacity<0?(txtParticles.items.splice(e,1),txtParticles.settings.index--):txtParticlesDraw(e)}function txtParticlesDraw(e){var t=document.createElement("p");t.style.transform="translate("+txtParticles.items[e].x+"px,"+txtParticles.items[e].y+"px)",t.style.width="10px",t.style.opacity=txtParticles.items[e].opacity,t.innerHTML="+"+clicker.click_increment_value,document.querySelector(".particles-container .indication").appendChild(t)}function render(){document.querySelector(".particles-container .ressources").innerHTML="",document.querySelector(".particles-container .indication").innerHTML="",updateParticles(),txtParticleUpdate(),window.requestAnimationFrame(render)}var interface={};interface.iron=document.querySelector("#info-iron"),interface.carbon=document.querySelector("#info-carbon"),interface.silicon=document.querySelector("#info-silicon"),interface.power=document.querySelector(".power"),interface.click_number=document.querySelector(".click-number"),interface.autoclicker={},interface.target={},interface.target.iron=document.querySelector("#target-iron"),interface.target.iron_pos=interface.target.iron.getBoundingClientRect(),interface.target.carbon=document.querySelector("#target-carbon"),interface.target.carbon_pos=interface.target.carbon.getBoundingClientRect(),interface.target.silicon=document.querySelector("#target-silicon"),interface.target.silicon_pos=interface.target.silicon.getBoundingClientRect();var time=0,ressources={};ressources.power={},ressources.power.value=0,ressources.power.valuemax=10,ressources.ore={},ressources.ore.iron=0,ressources.ore.carbon=0,ressources.ore.silicon=0;var auto_clicker={};auto_clicker.power={},auto_clicker.power.increment_value=2,auto_clicker.ore={},auto_clicker.ore.iron={},auto_clicker.ore.iron.increment_time=10,auto_clicker.ore.iron.increment_value=1,auto_clicker.ore.carbon={},auto_clicker.ore.carbon.increment_time=10,auto_clicker.ore.carbon.increment_value=1,auto_clicker.ore.silicon={},auto_clicker.ore.silicon.increment_time=10,auto_clicker.ore.silicon.increment_value=1;var clicker={};clicker.click_number=0,clicker.click_increment_value=1,clicker.next_level=50,clicker.spaceisdown=!1;var shop={};shop.items=[],shop.items[0]={},shop.items[0].name="generateur",shop.items[0].maxlevel=1,shop.items[0].price=[50,50,50],shop.items[0].level=0,window.addEventListener("resize",function(){resize()}),window.addEventListener("keydown",function(e){32!=e.keyCode||clicker.spaceisdown||(click(),update_interface(),clicker.spaceisdown=!0)}),window.addEventListener("keyup",function(e){32==e.keyCode&&(clicker.spaceisdown=!1)}),window.addEventListener("click",function(e){click(e)}),setInterval(function(){time++},1e3);var click_particles={};click_particles.items=[],click_particles.settings={},click_particles.settings.index=0,click_particles.settings.state=!1;var txtParticles={};txtParticles.items=[],txtParticles.settings={},txtParticles.settings.index=0,txtParticles.settings.state=!1,render();